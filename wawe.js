function wawe(){let isWaweInView=!0;new IntersectionObserver((entries,observer)=>{entries.forEach(entry=>{isWaweInView=entry.isIntersecting})},{root:null,rootMargin:"0px",threshold:[.3]}).observe(document.querySelector("#wawe"));let canvas=document.getElementById("wawe"),ctx=canvas.getContext("2d"),W=canvas.width=window.innerWidth,H=canvas.height=window.innerHeight,pixels=[];for(let x=-400;x<400;x+=5)for(let z=-250;z<250;z+=5)pixels.push({x:x,y:100,z:z});!function drawFrame(ts){requestAnimationFrame(drawFrame,canvas),ctx.fillStyle="#fff",ctx.fillRect(0,0,W,H),isWaweInView&&function(ts){let pixel,scale,x2d,y2d,c,imageData=ctx.getImageData(0,0,W,H),len=pixels.length;for(var i=0;i<len;i++)pixel=pixels[i],scale=100/(100+pixel.z),x2d=pixel.x*scale+W/2,y2d=pixel.y*scale+H/2,x2d>=0&&x2d<=W&&y2d>=0&&y2d<=H&&(c=4*(Math.round(y2d)*imageData.width+Math.round(x2d)),imageData.data[c]=17,imageData.data[c+1]=122,imageData.data[c+2]=181,imageData.data[c+3]=255),pixel.z-=.4,pixel.y=H/14+20*Math.sin(i/len*30+ts/450),pixel.z<-100&&(pixel.z+=200);ctx.putImageData(imageData,0,0)}(ts)}()}wawe();